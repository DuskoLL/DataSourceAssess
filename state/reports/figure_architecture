<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="400" xmlns="http://www.w3.org/2000/svg">
<defs>
<style>
.box { fill:#e3f2fd; stroke:#1976d2; stroke-width:2; }
.virtual { fill:#fff3cd; stroke:#f76707; stroke-width:2; stroke-dasharray:5,5; }
.arrow { stroke:#333; stroke-width:2; marker-end:url(#arrowhead); }
.label { font-family:Arial,sans-serif; font-size:14px; font-weight:bold; fill:#333; }
.small { font-family:Arial,sans-serif; font-size:11px; fill:#666; }
</style>
<marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
  <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
</marker>
</defs>

<!-- Left: Data Sources & APIs -->
<rect x="40" y="70" width="240" height="120" class="box" />
<text x="60" y="95" class="label">System Data Sources (APIs)</text>
<text x="60" y="115" class="small">- 9 Cryptocurrency Price APIs</text>
<text x="60" y="135" class="small">- 1 Virtual Cluster API</text>
<text x="60" y="155" class="small">- Real-time data fetching</text>
<text x="60" y="175" class="small">- Performance monitoring</text>

<rect x="40" y="210" width="240" height="60" class="virtual" />
<text x="60" y="235" class="label">Quality Assessment Features</text>
<text x="60" y="255" class="small">- Accuracy/Availability/Latency metrics</text>

<!-- Center: Evaluation Engine -->
<rect x="340" y="70" width="260" height="100" class="box" />
<text x="360" y="95" class="label">Data Source Evaluation Engine</text>
<text x="360" y="115" class="small">- Multi-metric quality assessment</text>
<text x="360" y="135" class="small">- Accuracy/Availability/Latency scoring</text>
<text x="360" y="155" class="small">- Real-time performance monitoring</text>

<rect x="340" y="190" width="260" height="100" class="box" />
<text x="360" y="215" class="label">K-means Clustering & Grade Mapping</text>
<text x="360" y="235" class="small">- Feature-based quality clustering</text>
<text x="360" y="255" class="small">- Dynamic grade assignment</text>
<text x="360" y="275" class="small">- Consensus-driven classification</text>

<rect x="340" y="310" width="260" height="60" class="box" />
<text x="360" y="335" class="label">Master Table (sources/rankings)</text>
<text x="360" y="355" class="small">- Category-based rankings</text>

<!-- Right: Proposal & Mining, Storage Layer -->
<rect x="650" y="70" width="240" height="80" class="box" />
<text x="670" y="95" class="label">Proposer Node</text>
<text x="670" y="115" class="small">- Submit data update proposals</text>
<text x="670" y="135" class="small">- Quality improvement suggestions</text>

<rect x="650" y="170" width="240" height="80" class="box" />
<text x="670" y="195" class="label">Miner Node</text>
<text x="670" y="215" class="small">- Process proposals via consensus</text>
<text x="670" y="235" class="small">- Block generation & validation</text>

<rect x="950" y="70" width="220" height="300" class="box" />
<text x="970" y="95" class="label">Storage Layer (state/)</text>
<text x="970" y="120" class="small">- data_sources.json</text>
<text x="970" y="140" class="small">- virtual_sources.json</text>
<text x="970" y="160" class="small">- master_table.json</text>
<text x="970" y="180" class="small">- chain.json</text>
<text x="970" y="200" class="small">- proposals/</text>
<text x="970" y="220" class="small">- backups/</text>
<text x="970" y="250" class="label">Performance Metrics:</text>
<text x="970" y="270" class="small">- Clustering latency</text>
<text x="970" y="290" class="small">- Consensus throughput</text>
<text x="970" y="310" class="small">- Grade distribution stats</text>

<!-- Arrows: Data flow & Control flow -->
<line x1="280" y1="120" x2="340" y2="120" class="arrow" />
<line x1="280" y1="230" x2="340" y2="230" class="arrow" />
<line x1="600" y1="240" x2="650" y2="210" class="arrow" />
<line x1="890" y1="110" x2="950" y2="160" class="arrow" />
<line x1="890" y1="210" x2="950" y2="210" class="arrow" />

</svg>